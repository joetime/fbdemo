<div class="jumbotron">
    <div class="btn-group">
        <button class="btn btn-default" ng-click="getAll()">
            <i class="glyphicon glyphicon-refresh"></i>
        </button>
        <button class="btn btn-success" ng-click="new()">New</button>
        <div>{{users.length}} Users</div>
    </div>
</div>

<div class="well">
    <table class="table small table-condensed">
        <thead>
            <tr>
                <th></th>
<!--                <th>Username</th>-->
                <th>Email</th>
                <th>Player Name</th>
                <th>Nickname</th>
                <th>Role</th>
                <th>Paid?</th>
                <th>Active</th>
                <th>Password</th>
            </tr>
        </thead>
        <tbody ng-if="users.length > 0">
            <tr ng-repeat="user in users" ng-class="{ 'success' : user.$$editMode }">
                <td>
                    <button class="btn btn-link btn-xs"
                            ng-click="delete(user)"
                            ng-show="!user.$$editMode">
                        <i class="glyphicon glyphicon-trash"></i>
                    </button>
                    
                    <button class="btn btn-link btn-xs"
                            ng-show="!user.$$editMode"
                            ng-click="startEdit(user)">
                        <i class="glyphicon glyphicon-pencil"></i>
                    </button>
                    
                    <button class="btn btn-success btn-xs"
                            ng-show="user.$$editMode"
                            ng-click="saveEdit(user)">
                        Save
                    </button>
                    
                    <button class="btn btn-link btn-xs"
                            ng-show="user.$$editMode"
                            ng-click="cancelEdit(user)">
                        Cancel
                    </button>
                    
                </td>
                
                <!-- END ROW CONTROLS -->
                
<!--
                <td>
                    <span ng-if="!user.$$editMode">{{user.username}}</span>
                    <span ng-if="user.$$editMode">
                        <input class="form-control" ng-model="user.username" />
                    </span>
                </td>
-->
                
                <td>
                    <span ng-if="!user.$$editMode">{{user.email}}</span>
                    <span ng-if="user.$$editMode">
                        <input class="form-control" ng-model="user.email" />
                    </span>
                </td>
                
                <td>
                    <span ng-if="!user.$$editMode">{{user.playerName}}</span>
                    <span ng-if="user.$$editMode">
                        <input class="form-control" ng-model="user.playerName" />
                    </span>
                </td>
                
                <td>
                    <span ng-if="!user.$$editMode">{{user.nickName}}</span>
                    <span ng-if="user.$$editMode">
                        <input class="form-control" ng-model="user.nickName" />
                    </span>
                </td>
                
                <td>
                    <span ng-if="!user.$$editMode">{{user.role}}</span>
                    <span ng-if="user.$$editMode">
                        <select class="form-control" ng-model="user.role">
                            <option value=''></option>
                            <option value='admin'>admin</option>
                        </select>
                    </span>
                </td>
                
                <td>
                    <input type="checkbox" ng-model="user.hasPaid" ng-disabled="!user.$$editMode" />
                </td>
                
                <td>
                    <input type="checkbox" ng-model="user.active" ng-disabled="!user.$$editMode" />
                </td>
                
                <td>
                    ...
                </td>
                
            </tr>
        </tbody>
        <tbody ng-if="teams.length == 0">
            <tr>
                <td colspan="4">
                    No records.
                </td>
            </tr>
        </tbody>
        
    </div>
    